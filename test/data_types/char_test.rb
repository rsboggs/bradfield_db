require "./test/test"

module DataTypes
  class CharTest < Test
    def test_can_serialize_and_deserialize_char
      char_value = "hello"
      field_length = 15
      binary_value = "0110100001100101011011000110110001101111\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00"

      assert_equal binary_value, ::DataTypes::Char.new(field_length).serialize(char_value)
      assert_equal char_value, ::DataTypes::Char.new(field_length).deserialize(binary_value)
    end
  end
end
